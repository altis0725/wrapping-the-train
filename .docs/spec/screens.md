# 画面仕様

## 画面一覧

| パス | 画面名 | 認証 |
|------|--------|------|
| `/` | Home (LP) | 不要 |
| `/create` | 動画作成 | 必要 |
| `/mypage` | マイページ | 必要 |
| `/reservations` | 投影予約 | 必要 |
| `/admin` | 管理画面 | admin |
| `/terms` | 利用規約 | 不要 |
| `/privacy` | プライバシーポリシー | 不要 |
| `/law` | 特定商取引法 | 不要 |
| `/contact` | お問い合わせ | 不要 |

## Home `/`

- ヒーローセクション
- HOW IT WORKS (3ステップ)
- PLANSセクション
- CTA「今すぐ始める」

## CreateVideo `/create`

**3段階テンプレート選択**:
1. 背景 - ベース映像
2. 窓 - ルママスクで合成
3. 車輪 - ルママスクで合成

**レイアウト**: 左(プレビュー) / 右(選択UI)

**アクション**:
- 「次へ」→ 次ステップ
- 「動画を作成」→ 生成開始
- 生成後「投影を予約する」→ 決済へ

## MyPage `/mypage`

**タブ構成**:
- 動画一覧: カード表示、ダウンロード/削除/予約
- 予約管理: 一覧、変更/キャンセル（投影開始48時間前まで）
- 決済履歴: 一覧、ステータス

**動画削除**:
- 予約に紐付いていない動画のみ削除可能
- 紐付き動画は「予約に紐付いているため削除できません」と表示

## Reservations `/reservations`

- カレンダー (投影可能日のみ選択可)
- 時間スロット選択
- 仮押さえボタン → 決済へ

**スロット (1日4枠)**:
| # | 時間 |
|---|------|
| 1 | 18:15-18:30 |
| 2 | 18:45-19:00 |
| 3 | 19:15-19:30 |
| 4 | 19:45-20:00 |

**初期対応日**: 2025/1/31

**仮押さえフロー**:
1. スロット選択 → 「予約する」クリック
2. 仮押さえ成功 → 残り時間カウントダウン表示（15分）
3. 「決済に進む」→ Stripe Checkoutへ
4. 期限切れ時 → 自動リダイレクト + エラーメッセージ

**スロット状態表示**:
| 状態 | 表示 |
|------|------|
| available | 選択可能 |
| hold | 「仮押さえ中」（自分の場合はカウントダウン表示） |
| reserved | 「予約済み」（選択不可） |

## Admin `/admin`

- 統計ダッシュボード
- テンプレート管理 (CRUD)
- 予約・投影管理
- 投影スケジュール追加

**予約・投影管理**:
| 機能 | 説明 |
|------|------|
| 一覧表示 | 日付/スロット/ユーザー/ステータス |
| 投影完了マーク | confirmed → completed に変更 |
| キャンセル | 管理者による強制キャンセル（返金処理含む） |

**ステータス管理**:
- `hold`: 仮押さえ中（15分で自動解放）
- `confirmed`: 決済完了・投影待ち
- `completed`: 投影完了
- `cancelled`: キャンセル済み
- `expired`: 期限切れ
