# AIエージェント向けドキュメント作成原則

AIエージェントのコンテキスト（`CLAUDE.md`, `AGENTS.md`）記述におけるベストプラクティス。

## 1. 原則：LLMはステートレス

LLMはセッション間の記憶を持たない。ルートドキュメントが唯一の「永続的な記憶」となる。
毎回のエージェント起動時に、コードベースへの「オンボーディング」として機能させる必要がある。

## 2. 必須3要素：WHAT / WHY / HOW

オンボーディングに必要な情報を簡潔に記述する。

- **WHAT (構造)**: スタック、ディレクトリ構成、主要パッケージの役割（地図）。
- **WHY (目的)**: プロジェクトの目的、各コンポーネントの存在理由。
- **HOW (方法)**: テスト実行、型チェック、コンパイル等の検証手順。

## 3. Less is More（指示は最小限に）

指示量とパフォーマンスは反比例する。

- **汎用性**: 全タスク共通の指示のみ記述。
- **長さ**: 300行未満（理想は60行未満）。
- **除外**: 特定状況のみの指示はルートドキュメントから排除。

## 4. 段階的開示（Progressive Disclosure）

全てを詰め込まず、必要に応じて参照させる。詳細手順は別ファイルへ切り出し、ポインタのみを置く。

### 構成例

```
root/
├── CLAUDE.md          # 以下のファイルへのポインタと概要のみ記述
├── .docs/             # 詳細ドキュメント置き場
│   ├── testing.md     # テスト実行の詳細
│   ├── schema.md      # DBスキーマ
│   └── architecture.md # アーキテクチャ詳細
```

- **ポインタ**: ファイルパスと短い説明を記述。エージェントが必要なら読む。
- **参照**: コードコピーではなく `file:line` で参照。

## 5. エージェント ≠ リンター

コードスタイルやフォーマット規則は書かない。

- **無駄**: コンテキストを浪費し、指示従順性を下げる。
- **解決策**: リンター/フォーマッター（Biome等）などのツールに任せる。
- **指示**: 「既存コードのパターンに従え」の一言で十分。
